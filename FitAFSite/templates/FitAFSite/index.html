{% extends "base.html" %}
{% load static %}

{% block title %}
  Meals
{% endblock title %}

{% block extra_styles %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<link rel="stylesheet" href="{% static 'FitAFSite/css/index.css' %}">
{% endblock extra_styles %}

{% block content %}
<p><a href="{% url 'logout' %}">logout</a></p>
<div id='app' style='width:100%;'>
  <div class="meal-in">
    <div class='meal-input-field'>
      <input 
      v-model:value='meal' 
      type="text" 
      placeholder='food name'>
    </div>
    <div class='meal-input-field'>
      <input 
      v-model:value='cal_in' 
      type="text" 
      placeholder='calorie count'>
    </div>
    <div>
      <button
        v-on:click='addMeal'
        id='btn-add'
      >
        <i class='fas fa-plus'></i>                    
      </button>
    </div>
  </div>
  <div class="meal-log">
    <div class="row">
      <div class="col-md-8">
        <div>
          <ul>
            <li
              v-for="meal, i in meals"
              v-bind:key="i"
            >
              <span> ${ meal.title } </span>
              <span class="left-brdr">Calories: ${ meal.calorie }</span>
              <div class='control-buttons left-brdr'>
                <i v-on:click='removeMeal(i)'
                class='fas fa-times'
                ></i>
              </div>    
            </li>
          </ul>
          <ul>
            <li>
              <span> Total Calories </span>
              <span class="left-brdr">${ cal_tot }</span>  
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a>

<!-- Modal Structure -->
  <div id="modal1" class="modal" style="height: 500px; width: 800px;">
    <div class="modal-content">
        <h1> ${ owner }</h1>
        <div class='Biometrics col' style="border: 10px solid blue">
          <label for="weight">weight</label>
          <input 
            type="number"
            id="weight"
            v-model:value='owner.weight'
          >
          <label for="height">height</label>
          <input 
            type="number"
            id="height"
            v-model:value='owner.height'
          >
          <label for="age">age</label>
          <input 
            type="number"
            id="age"
            v-model:value='owner.age'
          >
          <label for="activity">avtivity level</label>
          <select name="active-level" id="activity">
            <option value="1.2">sedentary</option>
            <option value="1.375">lightly active</option>
            <option value="1.55">moderately active</option>
            <option value="1.725">very active</option>
            <option value="1.9">extra active</option>
          </select>
        </div>
        <label for="goals">goals</label>
        <div id="goals" class="col" style="border: 10px solid green">
          <label for="carb">carbohydrates</label>
          <input 
            type="number"  
            id="carb"
            v-model:value="owner.carb_goal"
          >
          <label for="protein">protein</label>
          <input 
            type="number"  
            id="protein"
            v-model:value="owner.protein_goal"
          >
          <label for="fat">fat</label>
          <input 
            type="number"  
            id="fat"
            v-model:value="owner.fat_goal"
          >
        </div>
        <label for="calories">calories</label>
        <div class="calories">
          <input 
            type="number"
            id="calories"
            v-model:value="owner.daily_calorie"
          >
        </div>
    </div>
    <div class="modal-footer">
        <a v-on:click="setOwner" href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>

  <div id='suggestionBox'>    
     <img v-bind:src='recipe.image' alt=""> 
      <button v-on:click="suggestion">go</button>
  </div>
</div> <!-- end app -->
{% endblock content %}

{% block extra_scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="{% static 'FitAFSite/js/index.js' %}"></script>
{% endblock extra_scripts %}